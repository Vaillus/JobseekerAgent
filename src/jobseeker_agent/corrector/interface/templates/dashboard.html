<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Resume Corrector</title>
    <link rel="stylesheet" href="{{ url_for('main.static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <div class="left-pane">
            <h1>Workspace</h1>
            <div id="initial-loading-container">
                <h4>Loading Job Data...</h4>
                <p>This may take a moment. The interface will appear here once the process is complete.</p>
            </div>
            <div id="main-content" style="display: none;">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="keywords">Keywords</button>
                    <button class="tab-btn" data-tab="executor">Executor</button>
                </div>
                <div id="keywords-tab" class="tab-content" style="display: block;">
                    <div id="keyword-loading-container">
                        <h4>Extracting Keywords & Titles...</h4>
                        <p>This may take a moment. The interface will appear here once the process is complete.</p>
                    </div>
                    <div id="data-container" style="display: none;">
                        <div id="title-suggestions-container" style="display: none;">
                            <h4>Title Suggestions</h4>
                            <div id="title-suggestions-list"></div>
                            <div id="custom-title-area">
                                <input type="text" id="custom-title-input" placeholder="Enter a custom title...">
                                <button id="apply-custom-title-btn" class="toolbar-btn action-btn">Apply</button>
                            </div>
                        </div>
                        <div id="keywords-container"></div>
                        <button id="finalize-btn" disabled>Finalize & Save Keywords</button>
                    </div>
                </div>
                <div id="executor-tab" class="tab-content" style="display: none;">
                    <button id="run-executor-btn" class="toolbar-btn action-btn" style="width: 100%; margin-bottom: 1em;">Run Keyword Executor</button>
                    <h4>Execution Report:</h4>
                    <div id="executor-report"></div>
                    <button id="rank-resume-btn" class="toolbar-btn action-btn" style="width: 100%; margin-top: 1em; display: none;">Rank Resume</button>
                    <h4>Ranking Report:</h4>
                    <div id="ranking-report"></div>
                </div>
            </div>
        </div>
        <div class="right-pane">
            <div class="toolbar">
                <div class="toolbar-left">
                    <button id="refresh-btn" class="toolbar-btn action-btn">Refresh</button>
                    <button id="reinitialize-btn" class="toolbar-btn action-btn">Reinitialize</button>
                    <button id="save-btn" class="toolbar-btn action-btn" style="display: none;">Save</button>
                </div>
                <div class="toolbar-center">
                </div>
                <div class="view-switcher">
                    <button id="view-pdf-btn" class="toolbar-btn active">PDF</button>
                    <button id="view-tex-btn" class="toolbar-btn">TeX</button>
                    <button id="view-job-btn" class="toolbar-btn">Job</button>
                </div>
            </div>
            <div class="content-view" style="color-scheme: light;">
                <embed id="pdf-viewer" src="{{ url_for('main.serve_pdf', filename='resume.pdf') }}#toolbar=0" type="application/pdf" />
                <div id="tex-viewer" style="display: none;">
                    <textarea id="tex-editor"></textarea>
                </div>
                <div id="job-viewer" style="display: none; padding: 1em;">
                    <!-- Content will be injected by JS -->
                </div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('main.static', filename='dashboard.js') }}"></script>
</body>
</html>
